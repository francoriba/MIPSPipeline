# MIPS Pipeline implemented in Basys3 FPGA
All the details of this implementation can be found in the .pdf file

## Debug Unit State Machine 

``` mermaid
stateDiagram-v2
    [*] --> STATE_IDLE
    STATE_IDLE --> STATE_ACTIVATE_READER_BUFFER: uart_read
    STATE_ACTIVATE_READER_BUFFER --> STATE_READ
    STATE_READ --> STATE_CMD_INSTRUCTION: i_uart_read_finish
    STATE_CMD_INSTRUCTION --> STATE_FLUSH: "L" or "C" or "S"
    STATE_CMD_INSTRUCTION --> STATE_IDLE: default
    STATE_FLUSH --> STATE_LOAD_INSTRUCTION: "L"
    STATE_FLUSH --> STATE_RUN_CONTINUOUS: "C"
    STATE_FLUSH --> STATE_PRINT_REGS_START: "S"
    STATE_LOAD_INSTRUCTION --> STATE_ACTIVATE_READER_BUFFER: !i_instr_mem_full
    STATE_LOAD_INSTRUCTION --> STATE_ACTIVATE_WRITER_BUFFER: i_instr_mem_full
    STATE_LOAD_INSTRUCTION --> STATE_ACTIVATE_WRITER_BUFFER: HALT instruction
    STATE_ACTIVATE_WRITER_BUFFER --> STATE_WRITE
    STATE_WRITE --> STATE_IDLE: i_uart_write_finish
    STATE_ACTIVATE_READER_BUFFER --> STATE_CONTINUE_LOADING: from LOAD_INSTRUCTION
    STATE_CONTINUE_LOADING --> STATE_LOAD_INSTRUCTION
    STATE_RUN_CONTINUOUS --> STATE_PRINT_REGS_START: i_finish_program
    STATE_RUN_CONTINUOUS --> STATE_EMPTY_PROGRAM: i_instr_mem_empty
    STATE_EMPTY_PROGRAM --> STATE_ACTIVATE_WRITER_BUFFER
    STATE_PRINT_REGS_START --> STATE_PRINT_REGS
    STATE_PRINT_REGS --> STATE_PRINT_MEM_START: i_print_regs_finish
    STATE_PRINT_MEM_START --> STATE_PRINT_MEM
    STATE_PRINT_MEM --> STATE_FINISH_RUN: i_print_mem_finish
    STATE_FINISH_RUN --> STATE_ACTIVATE_WRITER_BUFFER: step_mode or program ends
    STATE_FINISH_RUN --> STATE_WAIT_NEXT_STEP: step_mode
    STATE_WAIT_NEXT_STEP --> STATE_ACTIVATE_READER_BUFFER
    STATE_ACTIVATE_READER_BUFFER --> STATE_RUN_STEP_INSTRUCTION: from WAIT_NEXT_STEP
    STATE_RUN_STEP_INSTRUCTION --> STATE_PRINT_REGS_START: "N" and !i_instr_mem_empty
    STATE_RUN_STEP_INSTRUCTION --> STATE_EMPTY_PROGRAM: "N" and i_instr_mem_empty
    STATE_RUN_STEP_INSTRUCTION --> STATE_WAIT_NEXT_STEP: not "N"
```